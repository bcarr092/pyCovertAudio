<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CSignal: src/include/fir_filter.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CSignal
   </div>
   <div id="projectbrief">Cross-platform audio hardware abstraction library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('fir__filter_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fir_filter.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is the header file for the finite impulse response (FIR) filter struct and associated helper functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cpcommon.h&gt;</code><br />
<code>#include &quot;<a class="el" href="conv_8h_source.html">conv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="csignal__error__codes_8h_source.html">csignal_error_codes.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for fir_filter.h:</div>
<div class="dyncontent">
<div class="center"><img src="fir__filter_8h__incl.png" border="0" usemap="#src_2include_2fir__filter_8h" alt=""/></div>
<map name="src_2include_2fir__filter_8h" id="src_2include_2fir__filter_8h">
<area shape="rect" id="node3" href="conv_8h.html" title="Header file for convolution of signals. " alt="" coords="96,79,156,104"/>
<area shape="rect" id="node4" href="csignal__error__codes_8h.html" title="The error codes produced by the csignal library are defined here. These error codes are superset of e..." alt="" coords="127,152,280,177"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="fir__filter_8h__dep__incl.png" border="0" usemap="#src_2include_2fir__filter_8hdep" alt=""/></div>
<map name="src_2include_2fir__filter_8hdep" id="src_2include_2fir__filter_8hdep">
<area shape="rect" id="node2" href="fir__filter_8c.html" title="The implementation of a passband FIR filter and filter (correlation) algorithm. " alt="" coords="5,85,101,111"/>
<area shape="rect" id="node3" href="csignal_8h.html" title="This is the main include file for the csignal library. This is the only header file that needs to be ..." alt="" coords="176,165,317,191"/>
<area shape="rect" id="node5" href="detect_8h.html" title="Functions used to detect the presence of input (i.e., received) signals. " alt="" coords="124,239,260,264"/>
<area shape="rect" id="node7" href="kaiser__filter_8h.html" title="This is the header file for the finite impulse response (FIR) Kaiser filter struct and associated hel..." alt="" coords="227,79,352,117"/>
<area shape="rect" id="node4" href="csignal_8c.html" title="This file contains the implementation for generating data modulated audio signals. Currently, implementations for BFSK and DSSS are supported. " alt="" coords="285,239,379,264"/>
<area shape="rect" id="node6" href="detect_8c.html" title="Implementation of signal detection routines. " alt="" coords="147,312,237,337"/>
<area shape="rect" id="node8" href="kaiser__filter_8c_source.html" title="src/kaiser_filter.c" alt="" coords="341,165,462,191"/>
</map>
</div>
</div>
<p><a href="fir__filter_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfir__passband__filter__t.html">fir_passband_filter_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a87731b078756800793cad5d8d2756257"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structfir__passband__filter__t.html">fir_passband_filter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fir__filter_8h.html#a87731b078756800793cad5d8d2756257">fir_passband_filter</a></td></tr>
<tr class="memdesc:a87731b078756800793cad5d8d2756257"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the struct for a passband filter. It contains the relevant information regarding the filter, i.e. passband info and sampling frequency, and also contains the actual filter tap weights.  <a href="#a87731b078756800793cad5d8d2756257">More...</a><br /></td></tr>
<tr class="separator:a87731b078756800793cad5d8d2756257"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a532a9c6ab7416f82b38745ce303ffd7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fir__filter_8h.html#a532a9c6ab7416f82b38745ce303ffd7e">csignal_initialize_passband_filter</a> (FLOAT32 in_first_passband, FLOAT32 in_second_passband, UINT32 in_sampling_frequency, USIZE in_number_of_taps, <a class="el" href="fir__filter_8h.html#a87731b078756800793cad5d8d2756257">fir_passband_filter</a> *out_filter)</td></tr>
<tr class="memdesc:a532a9c6ab7416f82b38745ce303ffd7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a fir_passband_filter struct with the passed in values. Mallocs enough FLOAT64 values in the coefficients member to hold in_number_of_taps values and initializes them to zero. Validates the input parameters as well.  <a href="#a532a9c6ab7416f82b38745ce303ffd7e">More...</a><br /></td></tr>
<tr class="separator:a532a9c6ab7416f82b38745ce303ffd7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc72fafa770eac5f5aba1d537f718aa2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fir__filter_8h.html#acc72fafa770eac5f5aba1d537f718aa2">csignal_destroy_passband_filter</a> (<a class="el" href="fir__filter_8h.html#a87731b078756800793cad5d8d2756257">fir_passband_filter</a> *io_filter)</td></tr>
<tr class="memdesc:acc72fafa770eac5f5aba1d537f718aa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Safely frees the passband filter struct. If the coefficients array has been malloc'd it will be freed as well.  <a href="#acc72fafa770eac5f5aba1d537f718aa2">More...</a><br /></td></tr>
<tr class="separator:acc72fafa770eac5f5aba1d537f718aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a522cab3b421c91eb45eb10a6070d2991"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fir__filter_8h.html#a522cab3b421c91eb45eb10a6070d2991">csignal_filter_signal</a> (<a class="el" href="fir__filter_8h.html#a87731b078756800793cad5d8d2756257">fir_passband_filter</a> *in_filter, USIZE in_signal_length, FLOAT64 *in_signal, USIZE *out_filtered_signal_length, FLOAT64 **out_filtered_signal)</td></tr>
<tr class="memdesc:a522cab3b421c91eb45eb10a6070d2991"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a convolution of the coefficients in in_filter and the signal values in in_signal. Stores the results in out_filtered_signal. If an error occurrs out_filtered_signal_length will be set to 0 and out_filtered_signal will be set to NULL.  <a href="#a522cab3b421c91eb45eb10a6070d2991">More...</a><br /></td></tr>
<tr class="separator:a522cab3b421c91eb45eb10a6070d2991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a443f9fb13b5f6f2b2cf854395214dac0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fir__filter_8h.html#a443f9fb13b5f6f2b2cf854395214dac0">csignal_filter_get_group_delay</a> (<a class="el" href="fir__filter_8h.html#a87731b078756800793cad5d8d2756257">fir_passband_filter</a> *in_filter, UINT32 *out_group_delay)</td></tr>
<tr class="memdesc:a443f9fb13b5f6f2b2cf854395214dac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of samples of delay introduced by the use of the filter defined in in_filter.  <a href="#a443f9fb13b5f6f2b2cf854395214dac0">More...</a><br /></td></tr>
<tr class="separator:a443f9fb13b5f6f2b2cf854395214dac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32f828cbf0828cfbeb5eb826d04557af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32f828cbf0828cfbeb5eb826d04557af"></a>
<a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a>&#160;</td><td class="memItemRight" valign="bottom"><b>csignal_filter_get_filter_length</b> (<a class="el" href="fir__filter_8h.html#a87731b078756800793cad5d8d2756257">fir_passband_filter</a> *in_filter, UINT32 *in_filter_length)</td></tr>
<tr class="separator:a32f828cbf0828cfbeb5eb826d04557af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the header file for the finite impulse response (FIR) filter struct and associated helper functions. </p>
<dl class="section note"><dt>Note</dt><dd>A FIR filter is used because we need to preserve the phase of the signal being filtered, i.e. we assume that the signal being filtered requires preservation of the phase of the signal and the only tolerable modification is a delay.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Brent Carrara </dd></dl>

<p>Definition in file <a class="el" href="fir__filter_8h_source.html">fir_filter.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a87731b078756800793cad5d8d2756257"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fir__filter_8h.html#a87731b078756800793cad5d8d2756257">fir_passband_filter</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the struct for a passband filter. It contains the relevant information regarding the filter, i.e. passband info and sampling frequency, and also contains the actual filter tap weights. </p>
<p>A passband filter is designed to allow filter components within the passband (i.e. between first and second passband) through the filter (largely) unmodified while heavily attenuating frequency components outside the passband. In general, a passband filter is composed of a passband region, transition regions on either side of the passband (i.e. the frequency ranges where the filter goes from little to severe attenuation) and the stopband regions (i.e. the frequency ranges outside the passband and transition bands where the frequency components are attenuated the most severly).</p>
<p>In theory, a perfect filter would be constructed as follows H(f) = 1 for all frequency components, f, within the passband, and H(f) = 0 for all frequency components, f, outside the passband. Unfortunately, when this frequency-domain function is converted to the time domain it results in a sync pulse which is infinitely long (and extends in both the +ve and -ve directions) creating a non-causal filter that requires an infinite number of points to represent. To account for this in practice the time domain function is windowed to time-bound the signal while ensuring that the filter continues to satisfy its design parameters. A good number of different windowing functions exist to perform this task: rectangular, triangular, Hann, Hamming, Bartlett-Hannnig, Kaiser, etc. Some good references for filter design are as follows:</p>
<p>1) Digital Filter Design by Zoran MilivojeviÄ‡ <a href="http://www.mikroe.com/products/view/268/digital-filter-design/">http://www.mikroe.com/products/view/268/digital-filter-design/</a> 2) Introduction to Signal Processing by Sophocles J. Orfanidis <a href="http://www.ece.rutgers.edu/~orfanidi/intro2sp/orfanidis-i2sp.pdf">http://www.ece.rutgers.edu/~orfanidi/intro2sp/orfanidis-i2sp.pdf</a></p>
<p>A filter is usually modelled as an impulse response consisiting of a number of 'taps.' This struct models the impulse response in an array of taps which are the impulse response values. We model the filter in this way so that it can easily be applied to time-domain signals by performing convolution. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="acc72fafa770eac5f5aba1d537f718aa2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a> csignal_destroy_passband_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fir__filter_8h.html#a87731b078756800793cad5d8d2756257">fir_passband_filter</a> *&#160;</td>
          <td class="paramname"><em>io_filter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Safely frees the passband filter struct. If the coefficients array has been malloc'd it will be freed as well. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_filter</td><td>The filter structure to be freed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns NO_ERROR upon succesful execution or one of these errors (see cpc_safe_free for other possible errors):</dd></dl>
<p>CPC_ERROR_CODE_NULL_POINTER If io_filter is null. </p>

<p>Definition at line <a class="el" href="fir__filter_8c_source.html#l00068">68</a> of file <a class="el" href="fir__filter_8c_source.html">fir_filter.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="fir__filter_8h_acc72fafa770eac5f5aba1d537f718aa2_icgraph.png" border="0" usemap="#fir__filter_8h_acc72fafa770eac5f5aba1d537f718aa2_icgraph" alt=""/></div>
<map name="fir__filter_8h_acc72fafa770eac5f5aba1d537f718aa2_icgraph" id="fir__filter_8h_acc72fafa770eac5f5aba1d537f718aa2_icgraph">
<area shape="rect" id="node2" href="kaiser__filter_8h.html#a8bf1d0c0e072a20677e689e04a11ae42" title="Initializesk a new fir_passband_filter struct as a Kaiser filter and designed according to the input ..." alt="" coords="250,5,368,44"/>
<area shape="rect" id="node3" href="kaiser__filter_8h.html#afa72afd06815e6ec8d255d7005ca610d" title="Initializes a new fir_passband_filter struct as a LP Kaiser filter, designed according to the input p..." alt="" coords="233,68,385,107"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a443f9fb13b5f6f2b2cf854395214dac0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a> csignal_filter_get_group_delay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fir__filter_8h.html#a87731b078756800793cad5d8d2756257">fir_passband_filter</a> *&#160;</td>
          <td class="paramname"><em>in_filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT32 *&#160;</td>
          <td class="paramname"><em>out_group_delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of samples of delay introduced by the use of the filter defined in in_filter. </p>
<dl class="section note"><dt>Note</dt><dd>This function ONLY works for linear phase filters (i.e., filters that delay all frequencies by the same amount). The underlying assumption is that the filter being passed as in_filter is linear phase, if that is not the case than a proper frequency-dependant group delay would need to be calculated.</dd>
<dd>
This function does not perform any checks to ensure that in_filter is linear phase (for expediency - calculation requires a couple multiplications and a couple of FFTs).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_filter</td><td>The filter whose group delay is to be calculated. </td></tr>
    <tr><td class="paramname">out_group_delay</td><td>The group delay (in samples) of the filter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns NO_ERROR upon succesful execution or one of these errors (see cpc_safe_free for other possible errors):</dd></dl>
<p>CPC_ERROR_CODE_NULL_POINTER If any of the parameters are null. CPC_ERROR_INVALID_PARAMTER If the number of taps in in_filter are not odd. </p>

<p>Definition at line <a class="el" href="fir__filter_8c_source.html#l00157">157</a> of file <a class="el" href="fir__filter_8c_source.html">fir_filter.c</a>.</p>

</div>
</div>
<a class="anchor" id="a522cab3b421c91eb45eb10a6070d2991"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a> csignal_filter_signal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fir__filter_8h.html#a87731b078756800793cad5d8d2756257">fir_passband_filter</a> *&#160;</td>
          <td class="paramname"><em>in_filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USIZE&#160;</td>
          <td class="paramname"><em>in_signal_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT64 *&#160;</td>
          <td class="paramname"><em>in_signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USIZE *&#160;</td>
          <td class="paramname"><em>out_filtered_signal_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT64 **&#160;</td>
          <td class="paramname"><em>out_filtered_signal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a convolution of the coefficients in in_filter and the signal values in in_signal. Stores the results in out_filtered_signal. If an error occurrs out_filtered_signal_length will be set to 0 and out_filtered_signal will be set to NULL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_filter</td><td>The filter to apply to in_signal. </td></tr>
    <tr><td class="paramname">in_signal_length</td><td>The number of samples in in_signal. </td></tr>
    <tr><td class="paramname">in_signal</td><td>The samples to filter. </td></tr>
    <tr><td class="paramname">out_filtered_signal_length</td><td>The length of the filtered signal. Since convolution is performeed this will be in_signal_length + the number of taps in in_filter (if no error occurs). </td></tr>
    <tr><td class="paramname">out_filtered_signal</td><td>The filtered signal. Note that if over or under flow occur in filtering the signal the max/min INT16 value will be used as the sample value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns NO_ERROR upon succesful execution or one of these errors (see cpc_safe_free for other possible errors):</dd></dl>
<p>CPC_ERROR_CODE_NULL_POINTER If in_filer, in_signal, out_filtered_signal_length or out_filtered_signal are null. CPC_ERROR_CODE_INVALID_PARAMETER If in_signal_length is 0 or the number of taps in in_filter is 0. </p>

<p>Definition at line <a class="el" href="fir__filter_8c_source.html#l00098">98</a> of file <a class="el" href="fir__filter_8c_source.html">fir_filter.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="fir__filter_8h_a522cab3b421c91eb45eb10a6070d2991_cgraph.png" border="0" usemap="#fir__filter_8h_a522cab3b421c91eb45eb10a6070d2991_cgraph" alt=""/></div>
<map name="fir__filter_8h_a522cab3b421c91eb45eb10a6070d2991_cgraph" id="fir__filter_8h_a522cab3b421c91eb45eb10a6070d2991_cgraph">
<area shape="rect" id="node2" href="conv_8c.html#a9f264d44667dcad1a18256448c3a81b3" title="Perfors the convolution of signal one and two, stores the output in a newly created array..." alt="" coords="191,5,265,31"/>
</map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="fir__filter_8h_a522cab3b421c91eb45eb10a6070d2991_icgraph.png" border="0" usemap="#fir__filter_8h_a522cab3b421c91eb45eb10a6070d2991_icgraph" alt=""/></div>
<map name="fir__filter_8h_a522cab3b421c91eb45eb10a6070d2991_icgraph" id="fir__filter_8h_a522cab3b421c91eb45eb10a6070d2991_icgraph">
<area shape="rect" id="node2" href="detect_8h.html#a0b2d4032c293105bfe6e13c37bfe7211" title="Calculates the energy in in_signal by executing the following algorithm: " alt="" coords="191,26,357,51"/>
<area shape="rect" id="node3" href="detect_8h.html#af9e80bc29cc4f42bcc6b990fd37e8517" title="This function performs the following algorithm: " alt="" coords="810,19,947,58"/>
<area shape="rect" id="node4" href="detect_8c.html#a1ca8fa95019c114cdc5256ddf24f4a0e" title="Performs an exhaustive search for the offset in in_signal between in_start_index and in_end_index tha..." alt="" coords="405,26,595,51"/>
<area shape="rect" id="node5" href="detect_8c.html#a8790a34d8b6270deb772bc8c4aed78bb" title="Performs a hill climbing algorithm until the energy difference on both sides of the hill are within i..." alt="" coords="643,76,762,102"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a532a9c6ab7416f82b38745ce303ffd7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="csignal__error__codes_8h.html#af27703a5c912ceae9e9d5cbdc4e83372">csignal_error_code</a> csignal_initialize_passband_filter </td>
          <td>(</td>
          <td class="paramtype">FLOAT32&#160;</td>
          <td class="paramname"><em>in_first_passband</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FLOAT32&#160;</td>
          <td class="paramname"><em>in_second_passband</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UINT32&#160;</td>
          <td class="paramname"><em>in_sampling_frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USIZE&#160;</td>
          <td class="paramname"><em>in_number_of_taps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fir__filter_8h.html#a87731b078756800793cad5d8d2756257">fir_passband_filter</a> *&#160;</td>
          <td class="paramname"><em>out_filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a fir_passband_filter struct with the passed in values. Mallocs enough FLOAT64 values in the coefficients member to hold in_number_of_taps values and initializes them to zero. Validates the input parameters as well. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_first_passband</td><td>The first frequency component in the passband range. Must be strictly less than second_passband. Units are Hz. </td></tr>
    <tr><td class="paramname">in_second_passband</td><td>The second frequency component in the passband range. Must be strictly greater than first_passband. Units are Hz. </td></tr>
    <tr><td class="paramname">in_sampling_frequency</td><td>The sampling frequency used to generate the filter. Units are Hz. </td></tr>
    <tr><td class="paramname">in_number_of_taps</td><td>The number of taps in the filter. This is the number of coefficients used for the filter. </td></tr>
    <tr><td class="paramname">out_filter</td><td>The populated filter struct with the coefficients array malloc'd and initialized to zero. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns NO_ERROR upon succesful execution or one of these errors (see cpc_safe_malloc for other possible errors):</dd></dl>
<p>CPC_ERROR_CODE_NULL_POINTER If out_filter is null. CPC_ERROR_CODE_INVALID_PARAMETER If first &gt;= second, first or second are zero, or the number of taps or sampling frequency are zero. </p>

<p>Definition at line <a class="el" href="fir__filter_8c_source.html#l00010">10</a> of file <a class="el" href="fir__filter_8c_source.html">fir_filter.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_b0856f6b0d80ccb263b2f415c91f9e17.html">include</a></li><li class="navelem"><a class="el" href="fir__filter_8h.html">fir_filter.h</a></li>
    <li class="footer">Generated on Fri Apr 1 2016 09:45:23 for CSignal by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
